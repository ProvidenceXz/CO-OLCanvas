<!DOCTYPE html>
<html lang="en">
    <head>
        <title>CO-OL Canvas - Collaborative Online Drawing App</title>
        <style type="text/css">
            #canvasID {
                position: fixed;
                left: 401px;
                top: 100px;
                background-color: white;
            }

            #bkgID {
                position: fixed;
                background-color: lightgray;
            }

            body {
                width:  100%;
                height: 100%;
                margin: 0;
                font: 13px Helvetica, Arial;
            }

            /* Chat */
            * { margin: 0; padding: 0; box-sizing: border-box; }
            form { background: gray; padding: 2px; position: fixed; bottom:80px; left: 40px;  }
            form input { border: 0; padding: 10px; margin-right: .5%; }
            form button {  background: rgb(130, 224, 255); border: none; padding: 10px; }
            #messages { list-style-type: none; margin: 0; padding: 0; }
            #messages li { padding: 5px 10px; }
            #messages li:nth-child(odd) { background: gray; }

        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
        <script type="text/javascript" src="canvas.js"></script>
        <script type="text/javascript" src="ntc.js"></script>
        <script type="text/javascript" src="http://clicktime.herokuapp.com/socket.io/socket.io.js"></script>
        <script type="text/javascript">
            $(document).ready(function() { init(); });
        </script>
        <script type="text/javascript">
            var base = 'http://clicktime.herokuapp.com:80/rooms/';
            var roomName = 'COOL';

            var socket = io.connect(base + roomName);

            socket.on('welcome', function () {
                // TODO: Prompt username
                // TODO: Let user choose a lucky number and generate color accordingly

                var colorName = nameColor(userColor);
                alert("Welcome to CO-OLCanvas! Your color is: " + colorName[1]);
            });

            socket.on('message', function (data) {
                if (data.header == "draw") {
                    draw(data.x, data.y, data.dragging, data.color, data.size);
                }
            });

            socket.on('heartbeat', function () {
                console.log('Your Current Status: Connected');
            });

            socket.on('error', function (err) {
                var type = err.type;
                var message = err.message;
                alert(type + "! " + message);
            });

        </script>
    </head>
    <body>
        <img id="room" src="img/bkg.png" alt="Background Room" width="1920" height="960" hidden="hidden">
        <img id="frame" src="img/canvas.png" alt="Canvas Frame" width="1118" height="642" hidden="hidden">
        <canvas id="bkgID" width="1920" height="960" ></canvas>
        <canvas id="canvasID" width="1118" height="642" style="border:0 solid black;"></canvas>
        <ul id="messages"></ul>
        <form action="">
            <input id="m" autocomplete="off" /><button>Send</button>
        </form>

    </body>
</html>



